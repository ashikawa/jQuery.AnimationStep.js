/**
 jquery.animationstep.js
 
 CSSアニメーション用のイベントの管理
 コンテナへのクラス名を自動設定
 ループ回数のカウント
 
 @author s.ashikawa
 */
(function(e){e.fn.animationstep=function(a){function f(g,b,d){e(this);var c=d.originalEvent.animationName,b=[c,g,b,d];e.isFunction(a)?a.apply(this,b):c in a&&(e.isFunction(a[c])?a[c].apply(this,b):a[c][g]&&a[c][g].apply(this,b))}a||(a={});return this.each(function(a,b){var d=e(b),c={};d.on("webkitAnimationStart animatinostart",function(a){var h=a.originalEvent.animationName,b=c[h]=0;d.addClass(h+"-start");f.apply(this,["start",b,a])});d.on("webkitAnimationEnd animationend",function(a){var b=a.originalEvent.animationName,
e=c[b];d.removeClass(b+"-start");d.addClass(b+"-end");f.apply(this,["end",e,a])});d.on("webkitAnimationIteration animationiteration",function(a){var b=++c[a.originalEvent.animationName];f.apply(this,["iteration",b,a])})})}})(jQuery);
